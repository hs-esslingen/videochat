<div id="videochat" (mousemove)="onMousemoove()">
  <video *ngIf="cameraState === 'videocam'" [srcObject]="localStream" [volume]="0" id="local" autoplay
    playinline></video>

  <div id="no-user" *ngIf="users != undefined && users.length === 0">
    <h2>Zur Zeit befindet sich niemand in diesem Raum</h2>
    <input type="text" readonly [value]="roomUrl" (click)="$event.target.focus();$event.target.select()">
  </div>

  <div id="duplicate-session" *ngIf="duplicateSession">
    <h2>Es besteht bereits eine Verbindung zu diesem Raum</h2>
    <button class="button" (click)="reload()">Erneut Versuchen</button>
  </div>


  <app-user *ngIf="singleVideo" id="single-stream" [user]="singleVideo" playAudio="true"
    (click)="toggleSingleGrid(singleVideo)" [selected]="true"></app-user>

  <div id="streams" [class.single]="singleVideo">
    <app-user class="user" *ngFor="let user of users" (click)="toggleSingleGrid(user)" [user]="user"
      [small]="singleVideo != undefined"
      [selected]="singleVideo == user"></app-user>

    <video class="user" *ngIf="localSchreenshareStream" [srcObject]="localSchreenshareStream" [volume]="0" autoplay
      playinline></video>
  </div>




  <div id="toolbar" [class.hidden]="isToolbarHidden">
    <div class="right">
      <button class="screen-share toggle" (click)="mediaService.toggleScreenshare()"
        [class.disabled]="screenshareState === 'stop_screen_share'">
        <i class="material-icons">{{ screenshareState }}</i>
      </button>
    </div>
    <div class="center">
      <button class="microphone toggle" (click)="mediaService.toggleMirophone()"
        [class.disabled]="microphoneState === 'mic_off'">
        <i class="material-icons">{{ microphoneState }}</i>
      </button>
      <button class="end-call" (click)="disconnect()">
        <i class="material-icons">call_end</i>
      </button>
      <button class="camera toggle" (click)="mediaService.toggleCamera()"
        [class.disabled]="cameraState === 'videocam_off'">
        <i class="material-icons">{{ cameraState }}</i>
      </button>
    </div>
    <div class="left">
      <mat-menu #aboveMenu="matMenu" yPosition="above">
        <button (click)="openNicknameDialog()" mat-menu-item>
          {{ mediaService.nickname || "Nickname Ã¤ndern" }}
        </button>
        <button (click)="openDebugDialog()" mat-menu-item>Debug info</button>
        <button mat-menu-item (click)="$event.stopPropagation()">
          <mat-checkbox [checked]="autoGainControl" (change)="mediaService.toggleAutoGainControl()">Automatic gain
            control</mat-checkbox>
        </button>
      </mat-menu>
      <button class="settings" [matMenuTriggerFor]="aboveMenu">
        <i class="material-icons">settings</i>
      </button>
    </div>
  </div>

</div>